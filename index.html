<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Behind The Stick</title>
</head>
<body>


	<h1>Behind The Stick Development </h1>

	<!-- The index.html will submit the user input to this page and not move on to another -->
	<!-- $_SERVER["PHP_SELF"] display the name of file that is submitting data -->
	<!--  htmlspecialchars() prevents cross site scripting  -->

	<form method="post" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']);?>">
		<label for="firstName">First Name</label>
		<input type="input" id="firstName" name="firstName"> <span class="error">* <?php echo $nameErr;?></span>

		<label for="lastName">Last Name</label>
		<input type="input" id="lastName" name="lastName">

		<label for="userName">User name</label>
		<input type="input" id="userName" name="userName">

		<label for="password">Password</label>
		<input type="password" id="password" name="password">

		<input type="submit" value="Sign Up">
	</form>


	<!-- PHP SECTION -->
	<?php

		//Variables to store data
		$firstName = "";
		$lastName = "";
		$userName = "";
		$password = "";

		//Variables for Error Messages
		$firstNameErr = "";
		$lastNameErr = "";
		$userNameErr = "";
		$passwordErr = "";


		//Checking to see if the form was submitted 
		// if form is submitted, I am calling the test_input function to "clean the data", then returning the clean data back to the if statement

		if ($_SERVER["REQUEST_METHOD"] == "POST")
		{


			if(empty($_POST["firstName"]))
			{
				$firstNameErr = "First Name is required";
			}
			else
			{
				$firstName = test_input($_POST["firstName"]);
			}


			
			$lastName = test_input($_POST["lastName"]);
			$userName = test_input($_POST["userName"]);
			$password = test_input($_POST["password"]);
		}



		//gets rids of whitespace, blackslahses and converts "<" to "&lt"
		function test_input($data) {
			$data = trim($data);
			$data = stripslashes($data);
			$data = htmlspecialchars($data);
			return $data;

		}	

	?>

	<?php
		echo $firstName;
		echo "<br>";
		echo $lastName;
		echo "<br>";
		echo $userName;
		echo "<br>";
		echo $password;
	?>





</body>
</html>


